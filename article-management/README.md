# 記事管理アプリ（Article Management System）

## プロジェクト概要
株式会社グレイプの編集部が運営するウェブメディア『grape』『GLUGLU』『UPDATE』『Umami bites』『grape Japan』における記事ネタ管理および重複防止システム。

現在スプレッドシートで管理している記事提案・承認ワークフロー、**SNSユーザー許諾管理**、**外部ライター管理**をWebアプリケーション化し、編集部の業務効率化と記事品質向上、**法的リスク回避**を図る。

## 対象メディア
- **grape** - 日常の出来事や話題のニュースを独自視点で配信
- **GLUGLU** - YouTube情報専門メディア  
- **UPDATE** - モノ・コト情報メディア
- **Umami bites** - インバウンド向け多言語メディア
- **grape Japan** - 海外向け英語コンテンツメディア

参考: https://grapee.co.jp/service/media

## 現状分析（スプレッドシート管理の課題）

### 現在の管理方法
1. **記事提案シート**
   - 記事番号による管理（119419、119420など）
   - ステータス管理（申請中、承認NG、更新可、スルー）
   - 申請者・ライター・編集者の割り当て（**社内・外部ライター含む**）
   - 提案日・申請日の記録
   - 記事内容・URL管理

2. **SNSユーザー許諾管理シート**（重要追加要素）
   - **OKユーザー**: 記事化許可済みのSNSアカウント
   - **NGユーザー**: 記事化禁止のSNSアカウント
   - プラットフォーム別管理（Twitter、Instagram、TikTok、YouTube）
   - 許諾取得日・条件の記録
   - アカウント情報（ハンドルネーム、URL等）

3. **外部ライター管理シート**（新規重要要素）
   - **外部ライター情報管理**：契約ライターのアカウント・連絡先
   - **記事納期・進捗管理**：外部ライターの作業状況追跡
   - **報酬・契約管理**：記事単価・支払い条件の記録
   - **品質管理**：外部ライターの執筆品質・評価管理
   - **情報共有制限**：社内情報へのアクセス権限管理

4. **承認ワークフロー**
   - 事後報告、要許可、情報提供、スルーの4段階分類
   - 編集者による承認・却下判定
   - **ユーザー許諾状況の確認**
   - **外部ライター作業の品質チェック**
   - 理由付きフィードバック

5. **ソーシャルメディア連携**
   - X（Twitter）、TikTok、Instagram投稿管理
   - 各プラットフォーム用のコンテンツ最適化

### 識別された課題
- ❌ 記事ネタの重複チェックが手動
- ❌ リアルタイムでの状況把握が困難
- ❌ ライター間の情報共有不足
- ❌ **SNSユーザー許諾状況の確認が手動**
- ❌ **OKユーザー・NGユーザーのリアルタイム更新が困難**
- ❌ **法的リスク（著作権・肖像権）のチェックが属人的**
- ❌ **許諾条件の詳細管理が不十分**
- ❌ **外部ライターの進捗管理が煩雑**
- ❌ **外部ライターへの情報共有方法が統一されていない**
- ❌ **外部ライターの品質管理が属人的**
- ❌ **契約・報酬管理が分散している**

## システム要件

### 主要機能

#### 1. 記事提案・管理機能
- ✅ 記事提案の登録・編集
- ✅ 自動記事番号生成
- ✅ カテゴリ別分類（各メディア対応）
- ✅ タグ付け・キーワード管理
- ✅ 重複チェック機能（AIベース）

#### 2. ワークフロー管理
- ✅ 承認フロー（申請→承認→公開）
- ✅ ステータス管理（申請中、承認済み、却下、公開済み）
- ✅ 編集者アサイン機能
- ✅ 期限管理・アラート機能

#### 3. ユーザー管理
- ✅ ライター権限（記事提案・編集）
- ✅ 編集者権限（承認・却下・アサイン）
- ✅ 管理者権限（全機能・ユーザー管理）

#### 4. 検索・分析機能
- ✅ 高度検索・フィルタリング
- ✅ 記事パフォーマンス分析
- ✅ ライター別実績管理
- ✅ トレンド分析（ネタの需要予測）

#### 5. 外部連携
- ✅ ソーシャルメディア投稿管理
- ✅ WordPressへの自動投稿
- ✅ チャットワーク通知連携

### 技術スタック
- **フロントエンド**: React.js + TypeScript
- **バックエンド**: Django REST Framework
- **データベース**: PostgreSQL
- **認証**: Django Allauth
- **デプロイ**: AWS ECS + CloudFormation
- **AI機能**: AWS Bedrock (Claude)

## データベース設計

### メインテーブル構成

#### Articles（記事管理）
```sql
- id: UUID (主キー)
- article_number: String (記事番号)
- title: String (記事タイトル)
- content_summary: Text (内容要約)
- category: String (カテゴリ)
- media_platform: String (対象メディア)
- status: String (ステータス)
- submission_date: DateTime (提案日)
- approval_date: DateTime (承認日)
- publication_date: DateTime (公開日)
- url: String (記事URL)
- created_at: DateTime
- updated_at: DateTime
```

#### Users（ユーザー管理）
```sql
- id: UUID (主キー)
- username: String (ユーザー名)
- email: String (メールアドレス)  
- role: String (権限: writer/editor/admin)
- department: String (所属部署)
- is_active: Boolean (アクティブ状態)
```

#### ArticleAssignments（担当者管理）
```sql
- id: UUID (主キー)
- article_id: UUID (記事ID)
- writer_id: UUID (ライターID)
- editor_id: UUID (編集者ID)
- assigned_date: DateTime (アサイン日)
```